# --- Core & UI ---
[user]
	useConfigOnly = true
[credential]
	helper = !\"/mnt/c/Program Files/Git/mingw64/bin/git-credential-manager.exe\"
[core]
	excludesfile = ~/.gitignore_global
	autocrlf = input
	editor = nvim
	pager = delta
	filemode = false    # WSL-friendly: ignore chmod noise
	untrackedCache = true
[tag]
	sort = version:refname
[branch]
	sort = -committerdate
[log]
	abbrevCommit = true

# --- Diff / Merge / Colors ---
[interactive]
	diffFilter = delta --color-only
[delta]
	features = line-numbers decorations
	navigate = true
	wrap-lines = true
	syntax-theme = Dracula
	plus-style = syntax
	minus-style = syntax
	file-decoration-style = cyan overline
	file-style = bold yellow
	hunk-header-style = line-number syntax
	commit-decoration-style = bold yellow box ul
	commit-style = raw
[delta "line-numbers"]
	line-numbers-minus-style = bold brightred
	line-numbers-plus-style  = bold brightgreen
	line-numbers-zero-style  = syntax
[diff]
	algorithm = histogram
	colorMoved = default
	compactionHeuristic = true
	mnemonicPrefix = true
[difftool "changed-lines-only"]
	cmd = /usr/bin/diff --unchanged-line-format= --old-line-format= --new-line-format='%L' "$LOCAL" "$REMOTE"
	trustExitCode = true
[merge]
	conflictstyle = zdiff3
	directoryRenames = true

# --- Workflow Defaults ---
[push]
	default = current
	followTags = true
	autoSetupRemote = true
	recurseSubmodules = on-demand
[remote]
	pushdefault = origin
[pull]
	rebase = merges
[fetch]
	prune = true
	pruneTags = true
	negotiationAlgorithm = skipping
	writeCommitGraph = true
[commit]
	verbose = true
[stash]
	showPatch = true
[rerere]
	enabled = true
[rebase]
	autosquash = true
	updateRefs = true
	autoStash = true
	backend = merge
[init]
	defaultBranch = develop

# --- Aliases ---
[alias]
	patch = !git --no-pager diff --no-color --no-prefix $@
	ffmain = "!git diff --quiet || { echo 'Uncommitted changes - aborting'; exit 1; }; git switch main && git fetch origin && git merge --ff-only origin/develop && git push"

# --- Performance & Maintenance ---
[status]
	submoduleSummary = true
[gc]
	writeCommitGraph = true
[maintenance]
	auto = true
	strategy = incremental

# --- Additional Includes ---
[include]
	path = ~/.git/included.gitconfig
	path = ~/.gitconfig.local
