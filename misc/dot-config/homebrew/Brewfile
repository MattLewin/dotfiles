# Shim Brewfile that loads common + OS-specific bundles.
# Use instance_eval so the DSL (brew/cask/tap) remains available.
eval_brewfile = lambda do |path|
  instance_eval(File.read(path), path)
end

eval_brewfile.call(File.join(__dir__, "Brewfile.common"))

if OS.mac?
  eval_brewfile.call(File.join(__dir__, "Brewfile.mac"))
elsif OS.linux?
  eval_brewfile.call(File.join(__dir__, "Brewfile.linux"))
end
